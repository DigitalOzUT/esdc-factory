{
    "zabbix_export": {
        "date": "2015-12-03T21:45:30Z",
        "templates": [
            {
                "templates": [],
                "name": "t_svc-erigonesd-compute",
                "macros": [],
                "items": [
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "7",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "1",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "2",
                        "key": "log[\"/opt/erigones/var/log/backup.log\",\"Traceback|CRITICAL|ERROR\"]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Error in $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd backup worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "7",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "1",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "2",
                        "key": "log[\"/opt/erigones/var/log/image.log\",\"Traceback|CRITICAL|ERROR\"]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Error in $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd image worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "7",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "1",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "2",
                        "key": "log[\"/opt/erigones/var/log/slow.log\",\"Traceback|CRITICAL|ERROR\"]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Error in $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd slow worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "7",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "1",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "2",
                        "key": "log[\"/opt/erigones/var/log/fast.log\",\"Traceback|CRITICAL|ERROR\"]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Error in $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd fast worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "4",
                        "key": "smf.status[erigonesd:backup]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue backup is running",
                        "applications": [
                            {
                                "name": "Service - Erigonesd backup worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "4",
                        "key": "smf.status[erigonesd:fast]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue fast is running",
                        "applications": [
                            {
                                "name": "Service - Erigonesd fast worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "4",
                        "key": "smf.status[erigonesd:image]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue image is running",
                        "applications": [
                            {
                                "name": "Service - Erigonesd image worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "Application specific \"ping\" check",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "3",
                        "key": "queue.ping[fast,{HOST.NAME}]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue ping - $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd fast worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "Application specific \"ping\" check",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "3",
                        "key": "queue.ping[backup,{HOST.NAME}]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue ping - $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd backup worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "Application specific \"ping\" check",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "3",
                        "key": "queue.ping[image,{HOST.NAME}]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue ping - $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd image worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "Application specific \"ping\" check",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "3",
                        "key": "queue.ping[slow,{HOST.NAME}]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue ping - $1",
                        "applications": [
                            {
                                "name": "Service - Erigonesd slow worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    },
                    {
                        "username": "",
                        "snmpv3_contextname": "",
                        "inventory_link": "0",
                        "multiplier": "0",
                        "trends": "365",
                        "snmpv3_authpassphrase": "",
                        "snmp_oid": "",
                        "snmpv3_securitylevel": "0",
                        "port": "",
                        "logtimefmt": "",
                        "delay": "60",
                        "publickey": "",
                        "params": "",
                        "snmpv3_securityname": "",
                        "formula": "1",
                        "type": "0",
                        "snmpv3_authprotocol": "0",
                        "valuemap": [],
                        "ipmi_sensor": "",
                        "status": "0",
                        "authtype": "0",
                        "snmp_community": "",
                        "description": "",
                        "data_type": "0",
                        "delay_flex": "",
                        "units": "",
                        "value_type": "4",
                        "key": "smf.status[erigonesd:slow]",
                        "delta": "0",
                        "password": "",
                        "snmpv3_privpassphrase": "",
                        "snmpv3_privprotocol": "0",
                        "name": "Queue slow is running",
                        "applications": [
                            {
                                "name": "Service - Erigonesd slow worker"
                            }
                        ],
                        "privatekey": "",
                        "allowed_hosts": "",
                        "history": "7"
                    }
                ],
                "screens": [],
                "applications": [
                    {
                        "name": "Service - Erigonesd backup worker"
                    },
                    {
                        "name": "Service - Erigonesd fast worker"
                    },
                    {
                        "name": "Service - Erigonesd image worker"
                    },
                    {
                        "name": "Service - Erigonesd slow worker"
                    }
                ],
                "discovery_rules": [],
                "groups": [
                    {
                        "name": "Templates"
                    }
                ],
                "template": "t_svc-erigonesd-compute"
            }
        ],
        "version": "2.0",
        "groups": [
            {
                "name": "Templates"
            }
        ],
        "triggers": [
            {
                "status": "1",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:log[\"/opt/erigones/var/log/backup.log\",\"Traceback|CRITICAL|ERROR\"].nodata(5m)}=0",
                "name": "Error in /opt/erigones/var/log/backup.log"
            },
            {
                "status": "1",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:log[\"/opt/erigones/var/log/fast.log\",\"Traceback|CRITICAL|ERROR\"].nodata(5m)}=0",
                "name": "Error in /opt/erigones/var/log/fast.log"
            },
            {
                "status": "1",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:log[\"/opt/erigones/var/log/image.log\",\"Traceback|CRITICAL|ERROR\"].nodata(5m)}=0",
                "name": "Error in /opt/erigones/var/log/image.log"
            },
            {
                "status": "1",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:log[\"/opt/erigones/var/log/slow.log\",\"Traceback|CRITICAL|ERROR\"].nodata(5m)}=0",
                "name": "Error in /opt/erigones/var/log/slow.log"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "5",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:backup].regexp(online)}=0",
                "name": "Queue backup is in {ITEM.LASTVALUE} state"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:backup].regexp(online)}=0",
                        "name": "Queue backup is in {ITEM.LASTVALUE} state"
                    }
                ],
                "expression": "({TRIGGER.VALUE}=0 & {t_svc-erigonesd-compute:queue.ping[backup,{HOST.NAME}].min(3m)}>0) | ({TRIGGER.VALUE}=1 & {t_svc-erigonesd-compute:queue.ping[backup,{HOST.NAME}].max(5m)}>0)",
                "name": "Queue backup is not responding to ping"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "5",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:fast].regexp(online)}=0",
                "name": "Queue fast is in {ITEM.LASTVALUE} state"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:fast].regexp(online)}=0",
                        "name": "Queue fast is in {ITEM.LASTVALUE} state"
                    }
                ],
                "expression": "({TRIGGER.VALUE}=0 & {t_svc-erigonesd-compute:queue.ping[fast,{HOST.NAME}].min(3m)}>0) | ({TRIGGER.VALUE}=1& {t_svc-erigonesd-compute:queue.ping[fast,{HOST.NAME}].max(5m)}>0)",
                "name": "Queue fast is not responding to ping"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "5",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:image].regexp(online)}=0",
                "name": "Queue image is in {ITEM.LASTVALUE} state"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:image].regexp(online)}=0",
                        "name": "Queue image is in {ITEM.LASTVALUE} state"
                    }
                ],
                "expression": "({TRIGGER.VALUE}=0 & {t_svc-erigonesd-compute:queue.ping[image,{HOST.NAME}].min(3m)}>0) | ({TRIGGER.VALUE}=1 & {t_svc-erigonesd-compute:queue.ping[image,{HOST.NAME}].max(5m)}>0)",
                "name": "Queue image is not responding to ping"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "5",
                "dependencies": [
                    {
                        "expression": "{t_zabbix-agent:agent.ping.nodata(3m)}=1",
                        "name": "Zabbix agent on {HOST.NAME} is unreachable for 3 minutes"
                    }
                ],
                "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:slow].regexp(online)}=0",
                "name": "Queue slow is in {ITEM.LASTVALUE} state"
            },
            {
                "status": "0",
                "description": "",
                "url": "",
                "type": "0",
                "priority": "4",
                "dependencies": [
                    {
                        "expression": "{t_svc-erigonesd-compute:smf.status[erigonesd:slow].regexp(online)}=0",
                        "name": "Queue slow is in {ITEM.LASTVALUE} state"
                    }
                ],
                "expression": "({TRIGGER.VALUE}=0 & {t_svc-erigonesd-compute:queue.ping[slow,{HOST.NAME}].min(3m)}>0) | ({TRIGGER.VALUE}=1 & {t_svc-erigonesd-compute:queue.ping[slow,{HOST.NAME}].max(5m)}>0)",
                "name": "Queue slow is not responding to ping"
            }
        ]
    }
}
